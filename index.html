<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>GCSE English Quiz</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background:#f4f6ff; transition:0.3s; }
    h1 { color:#333; }
    #quiz { margin:20px auto; width:80%; max-width:500px; background:#fff; padding:20px; border-radius:12px; box-shadow:0 2px 6px #aaa; transition:0.3s; }
    .btn { display:block; margin:8px auto; padding:12px; width:90%; border:none; border-radius:8px; background:#6c5ce7; color:#fff; font-size:18px; cursor:pointer; transition:0.3s; }
    .btn:hover { background:#341f97; }
    #result { margin-top:15px; font-weight:bold; font-size:20px; }
    #badge { margin-top:20px; font-size:18px; color:#e67e22; }

    /* Popup feedback */
    #popupMessage {
      position: fixed;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      background: #fff;
      padding: 20px 40px;
      font-size: 28px;
      font-weight: bold;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      opacity: 0;
      transition: all 0.3s ease-in-out;
      z-index: 1000;
    }
    #popupMessage.show { 
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
    #popupMessage.correct { color: green; }
    #popupMessage.wrong { color: red; }

    /* Dark mode */
    body.dark { background:#1e1e1e; color:#fff; }
    body.dark #quiz { background:#2a2a2a; color:#fff; }
    body.dark .btn { background:#444; }
    body.dark .btn:hover { background:#666; }
  </style>
</head>
<body>
 <h1>GCSE English Quiz</h1>
<button id="toggleMode">üåô Dark Mode</button>
<button id="toggleStyle">üé≠ Funny Mode</button>

<div id="quiz">
  <p id="progress"></p>
  <p id="question">Question text</p>
  <button class="btn" onclick="checkAnswer(0)" id="btn0">Answer</button>
  <button class="btn" onclick="checkAnswer(1)" id="btn1">Answer</button>
  <button class="btn" onclick="checkAnswer(2)" id="btn2">Answer</button>
  <button class="btn" onclick="checkAnswer(3)" id="btn3">Answer</button>
  <p id="result"></p>
  <p id="score"></p>
  <p id="badge"></p>
</div>

<div id="popupMessage"></div>

<p style="margin-top:20px; font-size:14px; color:#777;">‚ú® Made by Salma Sangin ‚ú®</p>

<script>
const allQuestions = [
  { q: "What does 'metaphor' mean?", a: ["Comparison using like/as", "Direct comparison", "Exaggeration", "Sound effect"], correct: 1 },
  { q: "What does 'anguish' mean?", a: ["Happiness", "Deep pain", "Friendship", "Joy"], correct: 1 },
  { q: "Which technique is: 'The wind whispered'?", a: ["Personification", "Alliteration", "Simile", "Irony"], correct: 0 },
  { q: "What is a simile?", a: ["Direct comparison", "Comparison using like/as", "Exaggeration", "Opposite words"], correct: 1 },
  { q: "What does 'irony' mean?", a: ["Words mean opposite of what is said", "Sound repetition", "Extreme exaggeration", "Direct comparison"], correct: 0 },
  { q: "Which device is: 'Bang! Boom! Crash!'?", a: ["Onomatopoeia", "Simile", "Metaphor", "Alliteration"], correct: 0 },
  { q: "What is 'alliteration'?", a: ["Repeating vowel sounds", "Repeating first consonant sounds", "Exaggeration", "Opposite meaning"], correct: 1 },
  { q: "Which is an example of hyperbole?", a: ["I could sleep for a year", "The wind danced", "Like a lion", "Hissing snake"], correct: 0 },
  { q: "What does 'foreshadowing' mean?", a: ["Hint about future events", "Comparison", "Opposite meaning", "Sound effect"], correct: 0 },
  { q: "What is 'imagery'?", a: ["Words creating pictures", "Opposite of truth", "Sound repetition", "Exaggeration"], correct: 0 }
];

// pick random questions
function pickRandomQuestions(pool, num) {
  let shuffled = [...pool].sort(() => 0.5 - Math.random());
  return shuffled.slice(0, num);
}

let questions = pickRandomQuestions(allQuestions, 10);
let current = 0;
let score = 0;
let funnyMode = false; // default mode = professional

// Sounds
let correctSound = new Audio("https://www.soundjay.com/buttons/sounds/button-3.mp3");
let wrongSound = new Audio("https://www.soundjay.com/buttons/sounds/button-10.mp3");

function showQuestion() {
  document.getElementById("progress").textContent =
    "Question " + (current + 1) + " of " + questions.length;
  document.getElementById("question").textContent = questions[current].q;
  for (let i = 0; i < 4; i++) {
    document.getElementById("btn" + i).textContent = questions[current].a[i];
  }
  document.getElementById("result").textContent = "";
}

function checkAnswer(choice) {
  let popup = document.getElementById("popupMessage");

  if (choice === questions[current].correct) {
    popup.innerHTML = funnyMode ? "üòÉ Woohoo! Correct!" : "‚úÖ Correct Answer";
    popup.className = "show correct";
    correctSound.play();
    score++;
  } else {
    if (funnyMode) {
      const funnyResponses = [
        "üòÇ Wrong! Try harder!",
        "üôÉ Oops, not this one!",
        "ü§™ Nope! Keep going!",
        "üòÖ Wrong answer!"
      ];
      popup.innerHTML = funnyResponses[Math.floor(Math.random() * funnyResponses.length)];
    } else {
      popup.innerHTML = "‚ùå Incorrect!";
    }
    popup.className = "show wrong";
    wrongSound.play();
  }

  setTimeout(() => {
    popup.className = "";
    current++;
    if (current < questions.length) {
      showQuestion();
    } else {
      finishQuiz();
    }
  }, 1200);
}

function finishQuiz() {
  let html = "<h2>üéâ Quiz Finished! üéâ</h2>";
  html += "<p>Your score: " + score + "/" + questions.length + "</p>";
  if (score === questions.length) {
    html += "<div style='font-size:60px;'>üèÖ</div><p id='badge'>Gold Medal! Perfect!</p>";
  } else if (score >= questions.length - 2) {
    html += "<div style='font-size:60px;'>ü•à</div><p id='badge'>Silver Medal! Almost perfect!</p>";
  } else {
    html += "<div style='font-size:60px;'>ü•â</div><p id='badge'>Bronze Medal! Keep revising!</p>";
  }
  html += "<button class='btn' onclick='location.reload()'>üîÑ Play Again</button>";
  document.getElementById("quiz").innerHTML = html;
}

// Dark Mode
document.getElementById("toggleMode").addEventListener("click", function() {
  document.body.classList.toggle("dark");
});

// Toggle Funny / Professional Mode
document.getElementById("toggleStyle").addEventListener("click", function() {
  funnyMode = !funnyMode;
  this.textContent = funnyMode ? "üé© Professional Mode" : "üé≠ Funny Mode";
});

// Start
showQuestion();
</script>
</body>
</html>
